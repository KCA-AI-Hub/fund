<!DOCTYPE html>
<html lang="ko" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}민원처리 챗봇{% endblock %}</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        background: 'oklch(var(--background) / <alpha-value>)',
                        foreground: 'oklch(var(--foreground) / <alpha-value>)',
                        card: {
                            DEFAULT: 'oklch(var(--card) / <alpha-value>)',
                            foreground: 'oklch(var(--card-foreground) / <alpha-value>)'
                        },
                        popover: {
                            DEFAULT: 'oklch(var(--popover) / <alpha-value>)',
                            foreground: 'oklch(var(--popover-foreground) / <alpha-value>)'
                        },
                        primary: {
                            DEFAULT: 'oklch(var(--primary) / <alpha-value>)',
                            foreground: 'oklch(var(--primary-foreground) / <alpha-value>)'
                        },
                        secondary: {
                            DEFAULT: 'oklch(var(--secondary) / <alpha-value>)',
                            foreground: 'oklch(var(--secondary-foreground) / <alpha-value>)'
                        },
                        muted: {
                            DEFAULT: 'oklch(var(--muted) / <alpha-value>)',
                            foreground: 'oklch(var(--muted-foreground) / <alpha-value>)'
                        },
                        accent: {
                            DEFAULT: 'oklch(var(--accent) / <alpha-value>)',
                            foreground: 'oklch(var(--accent-foreground) / <alpha-value>)'
                        },
                        destructive: {
                            DEFAULT: 'oklch(var(--destructive) / <alpha-value>)',
                            foreground: 'oklch(var(--destructive-foreground) / <alpha-value>)'
                        },
                        border: 'oklch(var(--border) / <alpha-value>)',
                        input: 'oklch(var(--input) / <alpha-value>)',
                        ring: 'oklch(var(--ring) / <alpha-value>)',
                        sidebar: {
                            DEFAULT: 'oklch(var(--sidebar) / <alpha-value>)',
                            foreground: 'oklch(var(--sidebar-foreground) / <alpha-value>)',
                            primary: 'oklch(var(--sidebar-primary) / <alpha-value>)',
                            'primary-foreground': 'oklch(var(--sidebar-primary-foreground) / <alpha-value>)',
                            accent: 'oklch(var(--sidebar-accent) / <alpha-value>)',
                            'accent-foreground': 'oklch(var(--sidebar-accent-foreground) / <alpha-value>)',
                            border: 'oklch(var(--sidebar-border) / <alpha-value>)',
                            ring: 'oklch(var(--sidebar-ring) / <alpha-value>)'
                        }
                    },
                    fontFamily: {
                        'sans': ['DM Sans', 'Noto Sans KR', 'sans-serif'],
                        'mono': ['Menlo', 'monospace'],
                    },
                    borderRadius: {
                        lg: 'var(--radius)',
                        md: 'calc(var(--radius) - 2px)',
                        sm: 'calc(var(--radius) - 4px)',
                    },
                    boxShadow: {
                        '2xs': 'var(--shadow-2xs)',
                        'xs': 'var(--shadow-xs)',
                        'sm': 'var(--shadow-sm)',
                        'DEFAULT': 'var(--shadow)',
                        'md': 'var(--shadow-md)',
                        'lg': 'var(--shadow-lg)',
                        'xl': 'var(--shadow-xl)',
                        '2xl': 'var(--shadow-2xl)',
                    },
                    animation: {
                        'slide-in': 'slideIn 0.3s ease-out',
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'pulse-slow': 'pulse 3s infinite',
                    },
                    keyframes: {
                        slideIn: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <style>
        :root {
            --background: 0.9529 0.0146 102.4597;
            --foreground: 0.4063 0.0255 40.3627;
            --card: 0.9529 0.0146 102.4597;
            --card-foreground: 0.4063 0.0255 40.3627;
            --popover: 1.0000 0 0;
            --popover-foreground: 0.4063 0.0255 40.3627;
            --primary: 0.6083 0.0623 44.3588;
            --primary-foreground: 1.0000 0 0;
            --secondary: 0.7473 0.0387 80.5476;
            --secondary-foreground: 1.0000 0 0;
            --muted: 0.8502 0.0389 49.0874;
            --muted-foreground: 0.5416 0.0512 37.2132;
            --accent: 0.8502 0.0389 49.0874;
            --accent-foreground: 0.4063 0.0255 40.3627;
            --destructive: 0.2225 0.0098 52.9636;
            --destructive-foreground: 1.0000 0 0;
            --border: 0.7473 0.0387 80.5476;
            --input: 0.7473 0.0387 80.5476;
            --ring: 0.6083 0.0623 44.3588;
            --sidebar: 0.8903 0.0278 49.5658;
            --sidebar-foreground: 0.4063 0.0255 40.3627;
            --sidebar-primary: 0.6083 0.0623 44.3588;
            --sidebar-primary-foreground: 1.0000 0 0;
            --sidebar-accent: 0.7272 0.0539 52.3320;
            --sidebar-accent-foreground: 1.0000 0 0;
            --sidebar-border: 0.6440 0.0405 52.3917;
            --sidebar-ring: 0.6083 0.0623 44.3588;
            --radius: 0.5rem;
            --shadow-2xs: 2px 2px 0px 0px hsl(20 18% 51% / 0.06);
            --shadow-xs: 2px 2px 0px 0px hsl(20 18% 51% / 0.06);
            --shadow-sm: 2px 2px 0px 0px hsl(20 18% 51% / 0.11), 2px 1px 2px -1px hsl(20 18% 51% / 0.11);
            --shadow: 2px 2px 0px 0px hsl(20 18% 51% / 0.11), 2px 1px 2px -1px hsl(20 18% 51% / 0.11);
            --shadow-md: 2px 2px 0px 0px hsl(20 18% 51% / 0.11), 2px 2px 4px -1px hsl(20 18% 51% / 0.11);
            --shadow-lg: 2px 2px 0px 0px hsl(20 18% 51% / 0.11), 2px 4px 6px -1px hsl(20 18% 51% / 0.11);
            --shadow-xl: 2px 2px 0px 0px hsl(20 18% 51% / 0.11), 2px 8px 10px -1px hsl(20 18% 51% / 0.11);
            --shadow-2xl: 2px 2px 0px 0px hsl(20 18% 51% / 0.28);
        }

        .dark {
            --background: 0.2721 0.0141 48.1783;
            --foreground: 0.9529 0.0146 102.4597;
            --card: 0.3291 0.0156 50.8936;
            --card-foreground: 0.9529 0.0146 102.4597;
            --popover: 0.3291 0.0156 50.8936;
            --popover-foreground: 0.9529 0.0146 102.4597;
            --primary: 0.7272 0.0539 52.3320;
            --primary-foreground: 0.2721 0.0141 48.1783;
            --secondary: 0.5416 0.0512 37.2132;
            --secondary-foreground: 0.9529 0.0146 102.4597;
            --muted: 0.4063 0.0255 40.3627;
            --muted-foreground: 0.7575 0.0380 50.8610;
            --accent: 0.7473 0.0387 80.5476;
            --accent-foreground: 0.2721 0.0141 48.1783;
            --destructive: 0.6875 0.1420 21.4566;
            --destructive-foreground: 0.2721 0.0141 48.1783;
            --border: 0.4063 0.0255 40.3627;
            --input: 0.4063 0.0255 40.3627;
            --ring: 0.7272 0.0539 52.3320;
            --sidebar: 0.2225 0.0098 52.9636;
            --sidebar-foreground: 0.9529 0.0146 102.4597;
            --sidebar-primary: 0.7272 0.0539 52.3320;
            --sidebar-primary-foreground: 0.2225 0.0098 52.9636;
            --sidebar-accent: 0.7473 0.0387 80.5476;
            --sidebar-accent-foreground: 0.2225 0.0098 52.9636;
            --sidebar-border: 0.4063 0.0255 40.3627;
            --sidebar-ring: 0.7272 0.0539 52.3320;
            --shadow-2xs: 2px 2px 0px 0px hsl(20 18% 30% / 0.06);
            --shadow-xs: 2px 2px 0px 0px hsl(20 18% 30% / 0.06);
            --shadow-sm: 2px 2px 0px 0px hsl(20 18% 30% / 0.11), 2px 1px 2px -1px hsl(20 18% 30% / 0.11);
            --shadow: 2px 2px 0px 0px hsl(20 18% 30% / 0.11), 2px 1px 2px -1px hsl(20 18% 30% / 0.11);
            --shadow-md: 2px 2px 0px 0px hsl(20 18% 30% / 0.11), 2px 2px 4px -1px hsl(20 18% 30% / 0.11);
            --shadow-lg: 2px 2px 0px 0px hsl(20 18% 30% / 0.11), 2px 4px 6px -1px hsl(20 18% 30% / 0.11);
            --shadow-xl: 2px 2px 0px 0px hsl(20 18% 30% / 0.11), 2px 8px 10px -1px hsl(20 18% 30% / 0.11);
            --shadow-2xl: 2px 2px 0px 0px hsl(20 18% 30% / 0.28);
        }
        
        /* 스크롤바 스타일링 */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: oklch(var(--muted) / 0.1);
            border-radius: var(--radius);
        }
        
        ::-webkit-scrollbar-thumb {
            background: oklch(var(--primary) / 0.8);
            border-radius: var(--radius);
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: oklch(var(--primary));
        }
        
        /* 애니메이션 효과 */
        .hover-lift {
            transition: all 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
        }
        
        /* 메시지 버블 효과 */
        .message-bubble {
            position: relative;
            animation: slideIn 0.3s ease-out;
        }
        
        .typing-indicator::after {
            content: '...';
            animation: typing 1.5s infinite;
        }
        
        @keyframes typing {
            0%, 60%, 100% { opacity: 1; }
            30% { opacity: 0; }
        }
        
        /* Markdown 스타일링 */
        .markdown-content {
            line-height: 1.6;
        }
        
        .markdown-content h1 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
        }
        
        .markdown-content h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        
        .markdown-content h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .markdown-content p {
            margin-bottom: 1rem;
        }
        
        .markdown-content ul, .markdown-content ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .markdown-content li {
            margin-bottom: 0.25rem;
        }
        
        .markdown-content code:not([class*="language-"]) {
            background: rgba(0, 0, 0, 0.05);
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
            font-family: 'Courier New', monospace;
        }
        
        .markdown-content pre {
            background: #2d2d2d;
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
            margin-bottom: 1rem;
        }
        
        .markdown-content pre code {
            background: transparent;
            padding: 0;
            font-size: 0.875rem;
        }
        
        .markdown-content blockquote {
            border-left: 4px solid #8b5cf6;
            padding-left: 1rem;
            margin: 1rem 0;
            color: #666;
            background: rgba(139, 92, 246, 0.05);
            padding: 0.75rem 1rem;
            border-radius: 0.25rem;
        }
        
        .markdown-content table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }
        
        .markdown-content th, .markdown-content td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: left;
        }
        
        .markdown-content th {
            background: #f5f5f5;
            font-weight: 600;
        }
        
        .markdown-content a {
            color: #3b82f6;
            text-decoration: underline;
        }
        
        .markdown-content a:hover {
            color: #2563eb;
        }
        
        .markdown-content hr {
            border: none;
            border-top: 1px solid #e5e5e5;
            margin: 1.5rem 0;
        }
        
        /* 타이핑 애니메이션 */
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        .typing-effect {
            overflow: hidden;
            white-space: nowrap;
            animation: typewriter 0.5s steps(30, end) forwards;
        }
        
        /* 사이드바 토글 스타일 */
        .sidebar-collapsed {
            margin-left: -260px;
        }
        
        .layout-expanded {
            grid-template-columns: 1fr !important;
        }
        
        @media (max-width: 768px) {
            .sidebar-mobile {
                position: fixed;
                left: 0;
                top: 0;
                height: 100vh;
                z-index: 40;
                width: 260px;
            }
            
            .sidebar-mobile.sidebar-collapsed {
                margin-left: -260px;
            }
        }
    </style>
    
    {% block head %}{% endblock %}
</head>
<body class="font-sans bg-background text-foreground h-screen overflow-hidden flex justify-center items-center transition-colors duration-200">
    {% block content %}{% endblock %}
    
    <!-- jQuery (선택사항) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <!-- Prism.js for code syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
    
    {% block scripts %}{% endblock %}
</body>
</html>